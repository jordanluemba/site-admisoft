<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connexion | AdmiSoft</title>
    
    <!-- Preload des polices et ressources critiques -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"></noscript>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                fontFamily: {
                    sans: ['Inter', 'sans-serif'],
                    display: ['Inter', 'sans-serif'],
                },
                extend: {
                    colors: {
                        primary: '#051769',
                        secondary: '#0298e4',
                        accent: '#3b82f6'
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out forwards',
                        'slide-up': 'slideUp 0.6s ease-out forwards',
                        'slide-right': 'slideRight 0.6s ease-out forwards',
                        'scale-in': 'scaleIn 0.5s ease-out forwards',
                    }
                }
            }
        }
    </script>
    
    <!-- Lien vers le fichier CSS externe -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Styles spécifiques à la page de login -->
    <style>
        .auth-card {
            transition: all 0.3s ease;
            transform: translateY(20px);
            opacity: 0;
        }
        
        .auth-card.active {
            transform: translateY(0);
            opacity: 1;
        }
        
        .password-toggle {
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .password-toggle:hover {
            color: #3b82f6;
        }
        
        .social-login-btn {
            transition: all 0.3s ease;
        }
        
        .social-login-btn:hover {
            transform: translateY(-2px);
        }
        
        .divider {
            position: relative;
            height: 1px;
            background-color: rgba(0, 0, 0, 0.1);
        }
        
        .divider::after {
            content: "Ou";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 0 1rem;
            color: rgba(0, 0, 0, 0.5);
        }
        
        .dark .divider {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .dark .divider::after {
            background-color: #1f2937;
            color: rgba(255, 255, 255, 0.5);
        }

        /* Animation pour les inputs de code de vérification */
        .verification-code {
            display: flex;
            justify-content: space-between;
            gap: 0.5rem;
        }
        
        .verification-code input {
            width: 3rem;
            height: 3.5rem;
            text-align: center;
            font-size: 1.5rem;
            border-radius: 0.5rem;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .dark .verification-code input {
            border-color: rgba(255, 255, 255, 0.1);
            background-color: rgba(255, 255, 255, 0.05);
            color: white;
        }
        
        .verification-code input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
        }
        
        /* Style pour le compte à rebours */
        .countdown {
            font-weight: bold;
            color: #3b82f6;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-200">
    <!-- HEADER NAVBAR -->
<header class="sticky top-0 z-50 bg-white dark:bg-gray-800 shadow-md" data-scroll>
    <div class="container mx-auto px-4 py-3">
        <div class="flex justify-between items-center">
            <!-- Logo -->
            <div class="flex items-center">
                <a href="#" class="flex items-center" aria-label="AdmiSoft - Retour à l'accueil">
                    <button class="flex items-center px-5 py-2 rounded-full bg-gradient-to-tr from-[#051769] to-[#0298e4] shadow-lg hover:scale-105 transition-all duration-200 border-2 border-white dark:border-gray-900 focus:outline-none">
                        <span class="text-white font-extrabold text-xl tracking-wide drop-shadow">AdmiSoft</span>
                    </button>
                </a>
            </div>
            <!-- Desktop Navigation Centered -->
            <nav class="hidden lg:flex flex-1 justify-center items-center space-x-1">
                <a href="index.html" class="px-4 py-2 font-medium hover:text-[#0298e4] dark:hover:text-blue-400 transition-colors">Accueil</a>
                <a href="blog.html" class="px-4 py-2 font-medium hover:text-[#0298e4] dark:hover:text-blue-400 transition-colors">Blog</a>
                <a href="marketplace.html" class="px-4 py-2 font-medium hover:text-[#0298e4] dark:hover:text-blue-400 transition-colors">Marketplace</a>
            </nav>
            <!-- Right icons -->
            <div class="flex items-center space-x-4">
                <!-- Search Button (desktop & mobile) -->
                <button id="search-toggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none" aria-label="Rechercher">
                    <i class="fas fa-search text-gray-500"></i>
                </button>
                <!-- Theme Toggle (desktop only) -->
                <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 hidden lg:inline-flex" aria-label="Basculer mode sombre">
                    <i class="fas fa-moon dark:hidden"></i>
                    <i class="fas fa-sun hidden dark:block"></i>
                </button>
                <a href="#" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 relative hidden lg:inline-flex" id="user-account-btn" aria-label="Mon compte">
                    <i class="fas fa-user"></i>
                </a>
                <!-- Cart -->
                <a href="#" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 relative cart-icon hidden lg:inline-flex" id="cart-btn" aria-label="Panier">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="absolute -top-1 -right-1 bg-[#0298e4] text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">3</span>
                </a>
                <!-- Mobile: bouton + pour afficher toutes les actions -->
                <button id="mobile-actions-toggle" class="lg:hidden p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none" aria-label="Menu actions">
                    <i class="fas fa-plus text-xl"></i>
                </button>
                <!-- Mobile Menu Button -->
                <button id="mobile-menu-button" class="lg:hidden p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none" aria-label="Menu principal">
                    <svg id="menu-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                    <svg id="close-icon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>
    <!-- Mobile search bar fixed just below navbar -->
    <div id="mobile-search-bar" class="fixed left-0 right-0 top-[64px] z-50 px-4 py-3 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center space-x-2 transition-all duration-200 opacity-0 pointer-events-none">
        <input type="text" id="mobile-search-input" placeholder="Rechercher..." class="flex-1 bg-gray-100 dark:bg-gray-700 rounded-full px-4 py-2 outline-none text-gray-800 dark:text-white" aria-label="Rechercher" />
        <button id="mobile-search-close" class="ml-2 text-gray-400 hover:text-[#0298e4] dark:hover:text-blue-400" aria-label="Fermer la recherche">
            <i class="fas fa-times"></i>
        </button>
    </div>
    <!-- Mobile actions bar fixed just below navbar -->
    <div id="mobile-actions-bar" class="fixed left-0 right-0 top-[64px] z-50 px-4 py-3 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center justify-around space-x-4 transition-all duration-200 opacity-0 pointer-events-none">
        <button id="mobile-theme-toggle" class="p-2 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900" aria-label="Basculer mode sombre">
            <i class="fas fa-moon dark:hidden text-xl"></i>
            <i class="fas fa-sun hidden dark:block text-xl"></i>
        </button>
        <button id="mobile-user-toggle" class="p-2 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900" aria-label="Mon compte">
            <i class="fas fa-user text-xl"></i>
        </button>
        <button id="mobile-cart-toggle" class="p-2 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900 relative" aria-label="Panier">
            <i class="fas fa-shopping-cart text-xl"></i>
            <span class="absolute -top-1 -right-1 bg-[#0298e4] text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">3</span>
        </button>
    </div>
</header>
<!-- MOBILE MENU OVERLAY -->
<div id="mobile-menu" class="fixed inset-0 bg-white dark:bg-gray-800 z-50 hidden transition-all duration-300">
    <div class="container mx-auto px-4 py-8 h-full flex flex-col">
        <div class="flex justify-between items-center mb-8">
            <span class="text-2xl font-extrabold text-[#051769] dark:text-white">Menu</span>
            <button id="mobile-menu-close" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700" aria-label="Fermer le menu">
                <i class="fas fa-times text-xl"></i>
            </button>
        </div>
        <nav class="flex flex-col space-y-6 text-lg flex-1 justify-center items-center">
            <a href="index.html" class="px-6 py-3 font-medium hover:text-[#0298e4] dark:hover:text-blue-400 transition-colors">Accueil</a>
            <a href="blog.html" class="px-6 py-3 font-medium hover:text-[#0298e4] dark:hover:text-blue-400 transition-colors">Blog</a>
            <a href="marketplace.html" class="px-6 py-3 font-medium hover:text-[#0298e4] dark:hover:text-blue-400 transition-colors">Marketplace</a>
            <a href="login.html" class="block w-full bg-[#051769] hover:bg-[#0298e4] text-white text-center py-3 px-6 rounded font-medium mt-8 max-w-xs transition-colors">Se connecter</a>
        </nav>
    </div>
</div>

    <!-- Main Content -->
    <main class="min-h-[calc(100vh-160px)] flex items-center justify-center py-12 px-4">
        <div class="w-full max-w-md">
            <!-- Connexion Card -->
            <div id="login-card" class="auth-card bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border-t-4 border-[#0298e4] active" data-scroll="fade-in">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-extrabold text-[#051769] dark:text-white mb-2">Connectez-vous</h2>
                    <p class="text-gray-600 dark:text-gray-400">Accédez à votre compte AdmiSoft</p>
                </div>
                
                <form id="login-form" class="space-y-6">
                    <div>
                        <label for="email" class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">Adresse email</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-envelope text-gray-400"></i>
                            </div>
                            <input type="email" id="email" name="email" required 
                                   class="w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:border-transparent transition"
                                   placeholder="votre@email.com">
                        </div>
                    </div>
                    
                    <div>
                        <label for="password" class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">Mot de passe</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-lock text-gray-400"></i>
                            </div>
                            <input type="password" id="password" name="password" required 
                                   class="w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:border-transparent transition"
                                   placeholder="••••••••">
                            <button type="button" class="password-toggle absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-[#0298e4] dark:hover:text-blue-400">
                                <i class="fas fa-eye-slash"></i>
                            </button>
                        </div>
                        <div class="flex justify-between items-center mt-2">
                            <div class="flex items-center">
                                <input id="remember-me" name="remember-me" type="checkbox" 
                                       class="h-4 w-4 text-[#0298e4] focus:ring-[#0298e4] border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700">
                                <label for="remember-me" class="ml-2 text-sm text-gray-600 dark:text-gray-400">
                                    Se souvenir de moi
                                </label>
                            </div>
                            <a href="#" id="forgot-password-link" class="text-sm text-[#0298e4] dark:text-blue-400 hover:underline">Mot de passe oublié ?</a>
                        </div>
                    </div>
                    
                    <button type="submit" class="w-full bg-gradient-to-r from-[#051769] to-[#0298e4] text-white py-3 px-4 rounded-lg font-semibold hover:from-[#0298e4] hover:to-[#3b82f6] focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:ring-offset-2 transition-all shadow-lg">
                        Se connecter
                    </button>
                    
                    <div class="text-center text-sm text-gray-600 dark:text-gray-400">
                        Vous n'avez pas de compte ? 
                        <a href="#" id="switch-to-register" class="text-[#0298e4] dark:text-blue-400 font-medium hover:underline transition-colors">
                            S'inscrire
                        </a>
                    </div>
                </form>
                
                <div class="mt-8">
                    <div class="divider my-6"></div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <a href="#" class="social-login-btn flex items-center justify-center py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm bg-white dark:bg-gray-700 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600">
                            <i class="fab fa-google text-[#DB4437] mr-2"></i>
                            <span>Google</span>
                        </a>
                        
                        <a href="#" class="social-login-btn flex items-center justify-center py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm bg-white dark:bg-gray-700 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600">
                            <i class="fab fa-apple text-gray-900 dark:text-gray-100 mr-2"></i>
                            <span>Apple</span>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Inscription Card (hidden by default) -->
            <div id="register-card" class="auth-card bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border-t-4 border-[#3b82f6] hidden" data-scroll="fade-in">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-extrabold text-[#051769] dark:text-white mb-2">Créez votre compte</h2>
                    <p class="text-gray-600 dark:text-gray-400">Rejoignez la communauté AdmiSoft</p>
                </div>
                
                <!-- ...existing code... -->
<form id="register-form" class="space-y-6">
    <div>
        <label for="reg-firstname" class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">Prénom</label>
        <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i class="fas fa-user text-gray-400"></i>
            </div>
            <input type="text" id="reg-firstname" name="firstname" required
                   class="w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:border-transparent transition"
                   placeholder="Jean">
        </div>
    </div>
    <div>
        <label for="reg-lastname" class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">Nom</label>
        <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i class="fas fa-user text-gray-400"></i>
            </div>
            <input type="text" id="reg-lastname" name="lastname" required
                   class="w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:border-transparent transition"
                   placeholder="Dupont">
        </div>
    </div>
    <div>
        <label for="reg-email" class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">Adresse email</label>
        <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i class="fas fa-envelope text-gray-400"></i>
            </div>
            <input type="email" id="reg-email" name="email" required
                   class="w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:border-transparent transition"
                   placeholder="votre@email.com">
        </div>
    </div>
    <div>
        <label for="reg-phone" class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">Téléphone</label>
        <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i class="fas fa-phone text-gray-400"></i>
            </div>
            <input type="tel" id="reg-phone" name="phone" required
                   class="w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:border-transparent transition"
                   placeholder="+243 *** *** ***">
        </div>
    </div>
    <div>
        <label for="reg-password" class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">Mot de passe</label>
        <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i class="fas fa-lock text-gray-400"></i>
            </div>
            <input type="password" id="reg-password" name="password" required
                   class="w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:border-transparent transition"
                   placeholder="••••••••">
            <button type="button" class="password-toggle absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-[#0298e4] dark:hover:text-blue-400">
                <i class="fas fa-eye-slash"></i>
            </button>
        </div>
        <p class="mt-2 text-xs text-gray-500 dark:text-gray-400">
            Minimum 8 caractères avec au moins 1 chiffre et 1 majuscule
        </p>
    </div>
    <div>
        <label for="reg-confirm-password" class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">Confirmer le mot de passe</label>
        <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                <i class="fas fa-lock text-gray-400"></i>
            </div>
            <input type="password" id="reg-confirm-password" name="confirm-password" required
                   class="w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:border-transparent transition"
                   placeholder="••••••••">
        </div>
    </div>
    <!-- Conditions d'utilisation et bouton restent identiques -->
    <div class="flex items-start">
        <div class="flex items-center h-5">
            <input id="terms" name="terms" type="checkbox"
                   class="h-4 w-4 text-[#0298e4] focus:ring-[#0298e4] border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700">
        </div>
        <label for="terms" class="ml-2 block text-sm text-gray-600 dark:text-gray-400">
            J'accepte les <a href="#" class="text-[#0298e4] dark:text-blue-400 hover:underline">conditions d'utilisation</a>
        </label>
    </div>
    <button type="submit" class="w-full bg-gradient-to-r from-[#051769] to-[#0298e4] text-white py-3 px-4 rounded-lg font-semibold hover:from-[#0298e4] hover:to-[#3b82f6] focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:ring-offset-2 transition-all shadow-lg">
        S'inscrire
    </button>
    <div class="text-center text-sm text-gray-600 dark:text-gray-400">
        Vous avez déjà un compte ?
        <a href="#" id="switch-to-login" class="text-[#0298e4] dark:text-blue-400 font-medium hover:underline transition-colors">
            Se connecter
        </a>
    </div>
</form>

                
                <div class="mt-8">
                    <div class="divider my-6"></div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <a href="#" class="social-login-btn flex items-center justify-center py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm bg-white dark:bg-gray-700 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600">
                            <i class="fab fa-google text-[#DB4437] mr-2"></i>
                            <span>Google</span>
                        </a>
                        
                        <a href="#" class="social-login-btn flex items-center justify-center py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm bg-white dark:bg-gray-700 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600">
                            <i class="fab fa-apple text-gray-900 dark:text-gray-100 mr-2"></i>
                            <span>Apple</span>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Forgot Password Card (hidden by default) -->
            <div id="forgot-password-card" class="auth-card bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border-t-4 border-[#3b82f6] hidden" data-scroll="fade-in">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-extrabold text-[#051769] dark:text-white mb-2">Mot de passe oublié</h2>
                    <p class="text-gray-600 dark:text-gray-400">Entrez votre email pour réinitialiser votre mot de passe</p>
                </div>
                
                <form id="forgot-password-form" class="space-y-6">
                    <div>
                        <label for="forgot-email" class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">Adresse email</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-envelope text-gray-400"></i>
                            </div>
                            <input type="email" id="forgot-email" name="email" required 
                                   class="w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:border-transparent transition"
                                   placeholder="votre@email.com">
                        </div>
                    </div>
                    
                    <button type="submit" class="w-full bg-gradient-to-r from-[#051769] to-[#0298e4] text-white py-3 px-4 rounded-lg font-semibold hover:from-[#0298e4] hover:to-[#3b82f6] focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:ring-offset-2 transition-all shadow-lg">
                        Envoyer le code de réinitialisation
                    </button>
                    
                    <div class="text-center text-sm text-gray-600 dark:text-gray-400">
                        <a href="#" id="back-to-login-from-forgot" class="text-[#0298e4] dark:text-blue-400 font-medium hover:underline transition-colors">
                            Retour à la connexion
                        </a>
                    </div>
                </form>
            </div>

            <!-- Verification Code Card (hidden by default) -->
            <div id="verification-code-card" class="auth-card bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border-t-4 border-[#3b82f6] hidden" data-scroll="fade-in">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-extrabold text-[#051769] dark:text-white mb-2">Vérification</h2>
                    <p class="text-gray-600 dark:text-gray-400">Entrez le code à 6 chiffres envoyé à <span id="verification-email" class="font-medium"></span></p>
                </div>
                
                <form id="verification-code-form" class="space-y-6">
                    <div class="verification-code">
                        <input type="text" maxlength="1" pattern="[0-9]" required class="verification-digit" data-index="0">
                        <input type="text" maxlength="1" pattern="[0-9]" required class="verification-digit" data-index="1">
                        <input type="text" maxlength="1" pattern="[0-9]" required class="verification-digit" data-index="2">
                        <input type="text" maxlength="1" pattern="[0-9]" required class="verification-digit" data-index="3">
                        <input type="text" maxlength="1" pattern="[0-9]" required class="verification-digit" data-index="4">
                        <input type="text" maxlength="1" pattern="[0-9]" required class="verification-digit" data-index="5">
                    </div>
                    
                    <div class="text-center text-sm">
                        <span id="countdown-text">Code valide pendant </span>
                        <span id="countdown" class="countdown">05:00</span>
                    </div>
                    
                    <div class="text-center text-sm">
                        <a href="#" id="resend-code" class="text-[#0298e4] dark:text-blue-400 font-medium hover:underline transition-colors">
                            Renvoyer le code
                        </a>
                    </div>
                    
                    <button type="submit" class="w-full bg-gradient-to-r from-[#051769] to-[#0298e4] text-white py-3 px-4 rounded-lg font-semibold hover:from-[#0298e4] hover:to-[#3b82f6] focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:ring-offset-2 transition-all shadow-lg">
                        Vérifier le code
                    </button>
                    
                    <div class="text-center text-sm text-gray-600 dark:text-gray-400">
                        <a href="#" id="back-to-forgot-from-verification" class="text-[#0298e4] dark:text-blue-400 font-medium hover:underline transition-colors">
                            Changer d'adresse email
                        </a>
                    </div>
                </form>
            </div>

            <!-- New Password Card (hidden by default) -->
            <div id="new-password-card" class="auth-card bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border-t-4 border-[#3b82f6] hidden" data-scroll="fade-in">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-extrabold text-[#051769] dark:text-white mb-2">Nouveau mot de passe</h2>
                    <p class="text-gray-600 dark:text-gray-400">Créez un nouveau mot de passe sécurisé</p>
                </div>
                
                <form id="new-password-form" class="space-y-6">
                    <div>
                        <label for="new-password" class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">Nouveau mot de passe</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-lock text-gray-400"></i>
                            </div>
                            <input type="password" id="new-password" name="new-password" required 
                                   class="w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:border-transparent transition"
                                   placeholder="••••••••">
                            <button type="button" class="password-toggle absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-[#0298e4] dark:hover:text-blue-400">
                                <i class="fas fa-eye-slash"></i>
                            </button>
                        </div>
                        <p class="mt-2 text-xs text-gray-500 dark:text-gray-400">
                            Minimum 8 caractères avec au moins 1 chiffre et 1 majuscule
                        </p>
                    </div>
                    
                    <div>
                        <label for="confirm-new-password" class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">Confirmer le nouveau mot de passe</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-lock text-gray-400"></i>
                            </div>
                            <input type="password" id="confirm-new-password" name="confirm-new-password" required 
                                   class="w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:border-transparent transition"
                                   placeholder="••••••••">
                        </div>
                    </div>
                    
                    <button type="submit" class="w-full bg-gradient-to-r from-[#051769] to-[#0298e4] text-white py-3 px-4 rounded-lg font-semibold hover:from-[#0298e4] hover:to-[#3b82f6] focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:ring-offset-2 transition-all shadow-lg">
                        Réinitialiser le mot de passe
                    </button>
                    
                    <div class="text-center text-sm text-gray-600 dark:text-gray-400">
                        <a href="#" id="back-to-login-from-new-password" class="text-[#0298e4] dark:text-blue-400 font-medium hover:underline transition-colors">
                            Retour à la connexion
                        </a>
                    </div>
                </form>
            </div>

            <!-- Success Message Card (hidden by default) -->
            <div id="success-card" class="auth-card bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border-t-4 border-green-500 hidden" data-scroll="fade-in">
                <div class="text-center mb-8">
                    <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900 mb-4">
                        <svg class="h-6 w-6 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                    </div>
                    <h2 class="text-3xl font-extrabold text-[#051769] dark:text-white mb-2">Mot de passe réinitialisé !</h2>
                    <p class="text-gray-600 dark:text-gray-400">Votre mot de passe a été changé avec succès. Vous pouvez maintenant vous connecter avec votre nouveau mot de passe.</p>
                </div>
                
                <a href="#" id="back-to-login-from-success" class="block w-full bg-gradient-to-r from-[#051769] to-[#0298e4] text-white py-3 px-4 rounded-lg font-semibold hover:from-[#0298e4] hover:to-[#3b82f6] focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:ring-offset-2 transition-all shadow-lg text-center">
                    Se connecter
                </a>
            </div>
        </div>
    </main>

    <footer class="bg-gradient-to-tr from-[#051769] via-[#0298e4] to-[#3b82f6] text-white pt-12 pb-6 relative overflow-hidden" data-scroll>
  <!-- Animation décorative SVG -->
  <svg class="absolute top-0 left-0 w-64 h-64 opacity-20 -z-10" viewBox="0 0 400 400" fill="none">
    <circle cx="200" cy="200" r="200" fill="url(#footerRadial)" />
    <defs>
      <radialGradient id="footerRadial" cx="0" cy="0" r="1" gradientTransform="translate(200 200) scale(200)" gradientUnits="userSpaceOnUse">
        <stop stop-color="#fff" stop-opacity="0.5"/>
        <stop offset="1" stop-color="#3b82f6" stop-opacity="0"/>
      </radialGradient>
    </defs>
  </svg>
  <div class="container mx-auto px-4">
    <div class="flex flex-col md:flex-row md:justify-between md:items-center gap-8 mb-8" data-scroll="fade-in">
      <!-- Logo & Slogan -->
      <div>
        <div class="flex items-center mb-2">
          <span class="text-2xl font-extrabold tracking-tight">AdmiSoft</span>
        </div>
        <p class="text-blue-100 text-base">L'innovation digitale, simplement.</p>
      </div>
      <!-- Newsletter intégrée -->
      <div class="w-full md:w-auto" data-scroll="fade-in" data-scroll-delay="100">
        <h4 class="font-semibold mb-2 text-lg">Recevez nos actus</h4>
        <form class="flex flex-col bg-white rounded-lg overflow-hidden shadow-lg max-w-md p-2">
          <input type="email" placeholder="Votre email" class="flex-grow px-4 py-2 text-gray-800 focus:outline-none text-base rounded mb-2" required>
          <button class="bg-[#051769] hover:bg-[#0298e4] text-white px-6 py-2 font-semibold transition text-base rounded">S'abonner</button>
        </form>
        <p class="text-sm text-blue-100 mt-2">Pas de spam, juste l'essentiel.</p>
      </div>
      <!-- Liens rapides minimalistes -->
      <div class="flex flex-col space-y-2 text-base" data-scroll="fade-in" data-scroll-delay="200">
        <a href="index.html" class="hover:underline">Accueil</a>
        <a href="blog.html" class="hover:underline">Blog</a>
        <a href="marketplace.html" class="hover:underline">Marketplace</a>
        <a href="index.html#contact" class="hover:underline">Contact</a>
      </div>
    </div>
    <div class="border-t border-blue-300/30 pt-6 flex flex-col md:flex-row justify-between items-center text-blue-100 text-base gap-2" data-scroll="fade-in">
      <span>&copy; 2023 AdmiSoft. Tous droits réservés.</span>
      <div class="flex space-x-4 text-lg">
        <a href="#" class="hover:text-white" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
        <a href="#" class="hover:text-white" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
        <a href="#" class="hover:text-white" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
        <a href="#" class="hover:text-white" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
      </div>
    </div>
  </div>
</footer>

    <!-- Product Page (hidden by default) -->
    <div id="product-page" class="hidden fixed inset-0 bg-black bg-opacity-75 z-50 overflow-y-auto">
        <div class="container mx-auto px-4 py-12">
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden max-w-6xl mx-auto">
                <div class="p-4 flex justify-end">
                    <button id="close-product" class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300" aria-label="Fermer">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 p-8">
                    <!-- Product Images -->
                    <div>
                        <div class="mb-4 rounded-lg overflow-hidden">
                            <img id="main-product-image" src="https://images.unsplash.com/photo-1611186871348-b1ce696e52c9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="MacBook Pro 14 pouces M2" class="w-full h-auto rounded-lg cursor-zoom-in" onclick="zoomImage(this)">
                        </div>
                        
                        <div class="grid grid-cols-4 gap-2">
                            <div class="border-2 border-transparent hover:border-[#0298e4] rounded cursor-pointer">
                                <img src="https://images.unsplash.com/photo-1611186871348-b1ce696e52c9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" alt="MacBook Pro vue de face" class="w-full h-20 object-cover rounded" onclick="changeMainImage(this)">
                            </div>
                            <div class="border-2 border-transparent hover:border-[#0298e4] rounded cursor-pointer">
                                <img src="https://images.unsplash.com/photo-1517336714731-489689fd1ca8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1026&q=80" alt="MacBook Pro vue de côté" class="w-full h-20 object-cover rounded" onclick="changeMainImage(this)">
                            </div>
                            <div class="border-2 border-transparent hover:border-[#0298e4] rounded cursor-pointer">
                                <img src="https://images.unsplash.com/photo-1542393545-10f5cde2c810?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1065&q=80" alt="MacBook Pro clavier" class="w-full h-20 object-cover rounded" onclick="changeMainImage(this)">
                            </div>
                            <div class="border-2 border-transparent hover:border-[#0298e4] rounded cursor-pointer">
                                <img src="https://images.unsplash.com/photo-1517336714731-489689fd1ca8?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1026&q=80" alt="MacBook Pro écran" class="w-full h-20 object-cover rounded" onclick="changeMainImage(this)">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Product Details -->
                    <div>
                        <h1 class="text-3xl font-bold mb-2">MacBook Pro 14" M2 Pro 16GB 512GB</h1>
                        <div class="flex items-center mb-4">
                            <div class="flex text-yellow-400 mr-2">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                            <span class="text-gray-600 dark:text-gray-400">4.8 (124 avis)</span>
                            <span class="mx-2 text-gray-400">|</span>
                            <span class="text-green-500"><i class="fas fa-check-circle mr-1"></i> En stock</span>
                        </div>
                        
                        <div class="mb-6">
                            <span class="text-3xl font-bold">1 799€</span>
                            <span class="text-gray-400 line-through ml-2">2 099€</span>
                            <span class="bg-red-500 text-white text-sm px-2 py-1 rounded ml-2">-15%</span>
                        </div>
                        
                        <div class="mb-6">
                            <h3 class="font-semibold mb-2">Description</h3>
                            <p class="text-gray-600 dark:text-gray-400">Le MacBook Pro 14" avec puce M2 Pro redéfinit les performances des ordinateurs portables. Avec un écran Liquid Retina XDR, jusqu'à 20 heures d'autonomie et un design compact, c'est l'outil ultime pour les professionnels.</p>
                        </div>
                        
                        <div class="mb-6">
                            <h3 class="font-semibold mb-2">Caractéristiques</h3>
                            <ul class="grid grid-cols-2 gap-2 text-gray-600 dark:text-gray-400">
                                <li><i class="fas fa-microchip mr-2 text-[#0298e4]"></i> M2 Pro 10 cœurs</li>
                                <li><i class="fas fa-memory mr-2 text-[#0298e4]"></i> 16GB mémoire unifiée</li>
                                <li><i class="fas fa-hdd mr-2 text-[#0298e4]"></i> SSD 512GB</li>
                                <li><i class="fas fa-tv mr-2 text-[#0298e4]"></i> Écran 14.2" Liquid Retina XDR</li>
                                <li><i class="fas fa-battery-full mr-2 text-[#0298e4]"></i> Jusqu'à 20h d'autonomie</li>
                                <li><i class="fas fa-weight mr-2 text-[#0298e4]"></i> 1.6 kg</li>
                            </ul>
                        </div>
                        
                        <div class="mb-6">
                            <h3 class="font-semibold mb-2">Options</h3>
                            <div class="space-y-3">
                                <div>
                                    <label class="block mb-1">Couleur</label>
                                    <div class="flex space-x-2">
                                        <button class="w-8 h-8 rounded-full bg-gray-800 border-2 border-gray-300 focus:border-[#0298e4]"></button>
                                        <button class="w-8 h-8 rounded-full bg-gray-400 border-2 border-gray-300 focus:border-[#0298e4]"></button>
                                        <button class="w-8 h-8 rounded-full bg-gray-200 border-2 border-gray-300 focus:border-[#0298e4]"></button>
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block mb-1">Mémoire</label>
                                    <select class="border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded px-3 py-2 w-full">
                                        <option>16GB unifiée</option>
                                        <option>32GB unifiée (+400€)</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label class="block mb-1">Stockage</label>
                                    <select class="border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded px-3 py-2 w-full">
                                        <option>512GB SSD</option>
                                        <option>1TB SSD (+200€)</option>
                                        <option>2TB SSD (+600€)</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex space-x-4">
                            <div class="flex border border-gray-300 dark:border-gray-600 rounded">
                                <button class="px-3 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700">-</button>
                                <input type="text" value="1" class="w-12 text-center border-x border-gray-300 dark:border-gray-600 dark:bg-gray-700">
                                <button class="px-3 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700">+</button>
                            </div>
                            <button class="flex-grow bg-[#051769] text-white py-2 px-4 rounded hover:bg-[#0298e4]">
                                <i class="fas fa-shopping-cart mr-2"></i> Ajouter au panier
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Product Tabs -->
                <div class="border-t border-gray-200 dark:border-gray-700">
                    <div class="flex border-b border-gray-200 dark:border-gray-700">
                        <button class="tab-btn px-6 py-4 font-medium border-b-2 border-[#0298e4] text-[#051769] dark:text-[#0298e4]">Description</button>
                        <button class="tab-btn px-6 py-4 font-medium text-gray-500 dark:text-gray-400 hover:text-[#0298e4] dark:hover:text-[#0298e4]">Spécifications</button>
                        <button class="tab-btn px-6 py-4 font-medium text-gray-500 dark:text-gray-400 hover:text-[#0298e4] dark:hover:text-[#0298e4]">Avis (124)</button>
                        <button class="tab-btn px-6 py-4 font-medium text-gray-500 dark:text-gray-400 hover:text-[#0298e4] dark:hover:text-[#0298e4]">FAQ</button>
                    </div>
                    
                    <div class="p-6">
                        <div class="tab-content active">
                            <h3 class="font-semibold text-lg mb-3">Description détaillée</h3>
                            <p class="text-gray-600 dark:text-gray-400 mb-4">Le MacBook Pro 14" repousse les limites de la performance mobile. Avec la puce M2 Pro, vous bénéficiez d'une puissance de traitement et graphique exceptionnelle, idéale pour les professionnels exigeants.</p>
                            
                            <h4 class="font-semibold mb-2">Écran Liquid Retina XDR</h4>
                            <p class="text-gray-600 dark:text-gray-400 mb-4">Profitez d'un écran 14.2" Liquid Retina XDR avec une résolution de 3024x1964 pixels, un contraste époustouflant et des noirs profonds grâce à la technologie mini-LED.</p>
                            
                            <h4 class="font-semibold mb-2">Performances révolutionnaires</h4>
                            <p class="text-gray-600 dark:text-gray-400 mb-4">La puce M2 Pro avec CPU 10 cœurs et GPU 16 cœurs offre jusqu'à 20% de performances en plus que la génération précédente, avec une efficacité énergétique inégalée.</p>
                        </div>
                        
                        <div class="tab-content hidden">
                            <!-- Spécifications content would go here -->
                        </div>
                        
                        <div class="tab-content hidden">
                            <!-- Avis content would go here -->
                        </div>
                        
                        <div class="tab-content hidden">
                            <!-- FAQ content would go here -->
                        </div>
                    </div>
                </div>
                
                <!-- Related Products -->
                <div class="p-8 border-t border-gray-200 dark:border-gray-700">
                    <h3 class="text-xl font-bold mb-6">Produits similaires</h3>
                    
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                        <!-- Related product cards would go here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Sidebar (hidden by default) -->
    <!-- ... -->
<div class="p-4 space-y-4" id="cart-items-container">
    <!-- Les items du panier seront injectés ici -->
</div>
<div class="p-4 border-t border-gray-200 dark:border-gray-700" id="cart-totals-container">
    <!-- Les totaux seront injectés ici -->
</div>
<!-- ... -->

    <!-- Chat support responsive et amélioré -->
<div id="chat-support" class="fixed bottom-4 right-4 z-50">
  <div id="chat-box" class="hidden bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-[90vw] max-w-sm h-[80vh] flex flex-col border border-blue-100 dark:border-blue-900">

    <!-- Header -->
    <div class="flex items-center justify-between px-4 py-3 bg-gradient-to-r from-[#051769] to-[#0298e4] text-white rounded-t-2xl">
      <div class="flex items-center gap-3">
        <span class="w-9 h-9 rounded-full bg-white/20 flex items-center justify-center">
          <i class="fas fa-robot text-xl"></i>
        </span>
        <div>
          <div class="font-bold">Support AdmiSoft</div>
          <div class="text-xs text-blue-100">En ligne</div>
        </div>
      </div>
      <button id="close-chat" class="hover:text-blue-200 transition" aria-label="Fermer le chat"><i class="fas fa-times text-lg"></i></button>
    </div>

    <!-- Messages -->
    <div id="chat-messages" class="flex-1 px-3 py-2 overflow-y-auto space-y-4 bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-900 text-sm">
      <!-- Messages exemples -->
      <div class="flex items-end gap-2">
        <div class="w-8 h-8 rounded-full bg-[#0298e4] text-white flex items-center justify-center text-sm font-bold">S</div>
        <div class="bg-blue-100 dark:bg-blue-900 text-gray-800 dark:text-blue-100 rounded-2xl px-3 py-2 max-w-[75%]">
          Bonjour ! Comment pouvons-nous vous aider aujourd'hui ?
        </div>
      </div>
      <div class="flex items-end gap-2 justify-end">
        <div class="bg-[#051769] text-white rounded-2xl px-3 py-2 max-w-[75%]">J'ai une question sur la livraison</div>
        <div class="w-8 h-8 rounded-full bg-blue-200 text-blue-700 flex items-center justify-center text-sm font-bold">M</div>
      </div>
      <div class="flex items-end gap-2">
        <div class="w-8 h-8 rounded-full bg-[#0298e4] text-white flex items-center justify-center text-sm font-bold">S</div>
        <div class="bg-blue-100 dark:bg-blue-900 rounded-2xl px-2 py-2 max-w-[75%]">
          <img src="https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=facearea&w=200&q=80" alt="Exemple de produit" class="rounded-lg max-w-[150px] mb-1">
          <div class="text-xs text-gray-600 dark:text-gray-300">Voici un exemple de produit !</div>
        </div>
      </div>
    </div>

    <!-- Input -->
    <form id="chat-form" class="px-3 py-2 border-t border-blue-100 dark:border-blue-900 flex items-center gap-2 bg-white dark:bg-gray-900">
      
      <!-- Bouton "+" pour afficher les options -->
      <div class="relative">
        <button type="button" id="chat-more" class="p-2 rounded-full hover:bg-blue-50 dark:hover:bg-gray-800 text-[#0298e4] dark:text-blue-400" title="Plus d'options" aria-label="Options du chat">
          <i class="fas fa-plus"></i>
        </button>
        <div id="chat-options" class="absolute bottom-12 left-0 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-2 space-y-2 hidden z-50">
  <label class="cursor-pointer text-[#0298e4] hover:text-[#051769] flex items-center gap-2">
    <i class="fas fa-image"></i>
    <span>Image</span>
    <input type="file" id="chat-image-input" accept="image/*" class="hidden">
  </label>
  <label class="cursor-pointer text-[#0298e4] hover:text-[#051769] flex items-center gap-2">
    <i class="fas fa-video"></i>
    <span>Vidéo</span>
    <input type="file" id="chat-video-input" accept="video/*" class="hidden">
  </label>
  <button type="button" id="chat-audio" class="text-[#0298e4] hover:text-[#051769] flex items-center gap-2">
    <i class="fas fa-microphone"></i> <span>Audio</span>
  </button>
</div>
      </div>

      <!-- Zone de texte -->
      <input type="text" id="chat-input" autocomplete="off" placeholder="Message..." class="flex-1 px-4 py-2 rounded-full border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-[#0298e4] text-gray-800 dark:text-white text-sm">

      <!-- Envoyer -->
      <button type="submit" class="bg-[#051769] hover:bg-[#0298e4] text-white rounded-full p-2 transition flex items-center justify-center" aria-label="Envoyer le message">
        <i class="fas fa-paper-plane text-sm"></i>
      </button>
    </form>
  </div>

  <!-- Bubble bouton d'ouverture -->
  <button id="open-chat" class="w-14 h-14 bg-gradient-to-tr from-[#051769] to-[#0298e4] text-white rounded-full shadow-lg flex items-center justify-center hover:scale-110 transition" aria-label="Ouvrir le chat">
    <i class="fas fa-comment-dots text-2xl"></i>
  </button>
</div>


    <!-- User Account Sidebar (hidden by default) -->
<div id="user-sidebar" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50">
    <div class="absolute right-0 top-0 bottom-0 bg-white dark:bg-gray-800 w-full max-w-md shadow-xl overflow-y-auto">
        <div class="p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
            <h3 class="text-xl font-bold">Mon Profil</h3>
            <button id="close-user" class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300" aria-label="Fermer le profil">
                <i class="fas fa-times text-2xl"></i>
            </button>
        </div>
        
        <div class="p-6">
            <!-- User Profile Section -->
            <div class="flex flex-col items-center mb-6">
                <div class="w-24 h-24 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center text-[#051769] dark:text-blue-400 text-3xl font-bold mb-4">
                    JD
                </div>
                <h4 class="text-xl font-semibold">Jean Dupont</h4>
                <p class="text-gray-500 dark:text-gray-400">Membre depuis janvier 2023</p>
            </div>
            
            <!-- Profile Details -->
            <div class="space-y-4 mb-6">
                <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
                    <h5 class="font-medium mb-2 flex items-center">
                        <i class="fas fa-envelope mr-3 text-[#0298e4]"></i> Informations personnelles
                    </h5>
                    <div class="space-y-2">
                        <p><span class="font-medium">Email:</span> jean.dupont@example.com</p>
                        <p><span class="font-medium">Téléphone:</span> +33 6 12 34 56 78</p>
                        <p><span class="font-medium">Date de naissance:</span> 15/05/1990</p>
                    </div>
                </div>
                
                <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
                    <h5 class="font-medium mb-2 flex items-center">
                        <i class="fas fa-map-marker-alt mr-3 text-[#0298e4]"></i> Adresse principale
                    </h5>
                    <address class="not-italic">
                        <p>12 Rue de la République</p>
                        <p>75001 Paris, France</p>
                    </address>
                </div>
            </div>
            
            <!-- Stats -->
            <div class="grid grid-cols-3 gap-4 mb-6 text-center">
                <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-3">
                    <div class="text-2xl font-bold text-[#051769] dark:text-blue-400">15</div>
                    <div class="text-sm text-gray-500 dark:text-gray-400">Commandes</div>
                </div>
                <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-3">
                    <div class="text-2xl font-bold text-[#051769] dark:text-blue-400">8</div>
                    <div class="text-sm text-gray-500 dark:text-gray-400">Favoris</div>
                </div>
                <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-3">
                    <div class="text-2xl font-bold text-[#051769] dark:text-blue-400">2</div>
                    <div class="text-sm text-gray-500 dark:text-gray-400">Coupons</div>
                </div>
            </div>
            
            <!-- Actions -->
            <div class="space-y-3">
                <button id="edit-profile-btn" class="w-full bg-[#051769] text-white py-2 px-4 rounded hover:bg-[#0298e4] font-medium flex items-center justify-center">
                    <i class="fas fa-edit mr-2"></i> Modifier le profil
                </button>
                <button id="change-password-btn" class="w-full border border-[#051769] text-[#051769] dark:text-[#0298e4] py-2 px-4 rounded hover:bg-blue-50 dark:hover:bg-gray-700 font-medium flex items-center justify-center">
                    <i class="fas fa-lock mr-2"></i> Changer le mot de passe
                </button>
                <button id="logout-btn" class="w-full text-red-500 py-2 px-4 rounded hover:bg-red-50 dark:hover:bg-gray-700 font-medium flex items-center justify-center">
                    <i class="fas fa-sign-out-alt mr-2"></i> Déconnexion
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Edit Profile Sidebar -->
<div id="edit-profile-sidebar" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50">
    <div class="absolute right-0 top-0 bottom-0 bg-white dark:bg-gray-800 w-full max-w-md shadow-xl overflow-y-auto">
        <div class="p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
            <h3 class="text-xl font-bold">Modifier le profil</h3>
            <button id="close-edit-profile" class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300" aria-label="Fermer l'édition du profil">
                <i class="fas fa-times text-2xl"></i>
            </button>
        </div>
        
        <div class="p-6">
            <form class="space-y-4">
                <!-- Avatar Upload -->
                <div class="flex flex-col items-center">
                    <div class="w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 mb-4 overflow-hidden">
                        <img id="profile-avatar" src="https://via.placeholder.com/150" alt="Photo de profil" class="w-full h-full object-cover">
                    </div>
                    <label class="cursor-pointer text-[#0298e4] dark:text-blue-400 text-sm font-medium">
                        <input type="file" class="hidden" accept="image/*">
                        Changer la photo
                    </label>
                </div>
                
                <!-- Form Fields -->
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium mb-1">Nom complet</label>
                        <input type="text" value="Jean Dupont" class="w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded px-3 py-2">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-1">Email</label>
                        <input type="email" value="jean.dupont@example.com" class="w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded px-3 py-2">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-1">Téléphone</label>
                        <input type="tel" value="+33 6 12 34 56 78" class="w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded px-3 py-2">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium mb-1">Date de naissance</label>
                        <input type="date" value="1990-05-15" class="w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded px-3 py-2">
                    </div>
                </div>
                
                <div class="pt-4">
                    <button type="submit" class="w-full bg-[#051769] text-white py-2 px-4 rounded hover:bg-[#0298e4] font-medium">
                        Enregistrer les modifications
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Logout Confirmation Sidebar -->
<div id="logout-sidebar" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50">
    <div class="absolute right-0 top-0 bottom-0 bg-white dark:bg-gray-800 w-full max-w-md shadow-xl overflow-y-auto">
        <div class="p-6 flex flex-col items-center text-center">
            <div class="w-16 h-16 rounded-full bg-red-100 dark:bg-red-900 flex items-center justify-center text-red-500 dark:text-red-400 text-2xl mb-4">
                <i class="fas fa-sign-out-alt"></i>
            </div>
            
            <h3 class="text-xl font-bold mb-2">Se déconnecter</h3>
            <p class="text-gray-500 dark:text-gray-400 mb-6">Êtes-vous sûr de vouloir vous déconnecter de votre compte ?</p>
            
            <div class="w-full space-y-3">
                <button id="confirm-logout" class="w-full bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700 font-medium">
                    Oui, se déconnecter
                </button>
                <button id="cancel-logout" class="w-full border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 py-2 px-4 rounded hover:bg-gray-100 dark:hover:bg-gray-700 font-medium">
                    Annuler
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Change Password Modal -->
<div id="change-password-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50">
    <div class="absolute right-0 top-0 bottom-0 bg-white dark:bg-gray-800 w-full max-w-md shadow-xl overflow-y-auto">
        <div class="p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
            <h3 class="text-xl font-bold">Changer le mot de passe</h3>
            <button id="close-change-password" class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300" aria-label="Fermer le changement de mot de passe">
                <i class="fas fa-times text-2xl"></i>
            </button>
        </div>
        
        <div class="p-6">
            <form id="password-change-form" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-1">Mot de passe actuel</label>
                    <div class="relative">
                        <input type="password" required class="w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded px-3 py-2 pr-10">
                        <button type="button" class="absolute right-3 top-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 toggle-password" aria-label="Afficher/masquer le mot de passe">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-1">Nouveau mot de passe</label>
                    <div class="relative">
                        <input type="password" required class="w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded px-3 py-2 pr-10">
                        <button type="button" class="absolute right-3 top-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 toggle-password" aria-label="Afficher/masquer le mot de passe">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Minimum 8 caractères, avec majuscule, minuscule et chiffre</p>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-1">Confirmer le nouveau mot de passe</label>
                    <div class="relative">
                        <input type="password" required class="w-full border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded px-3 py-2 pr-10">
                        <button type="button" class="absolute right-3 top-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 toggle-password" aria-label="Afficher/masquer le mot de passe">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                
                <div class="pt-4">
                    <button type="submit" class="w-full bg-[#051769] text-white py-2 px-4 rounded hover:bg-[#0298e4] font-medium">
                        <i class="fas fa-save mr-2"></i> Enregistrer
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Order Confirmation Modal -->
<div id="order-confirm-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50">
    <div class="absolute right-0 top-0 bottom-0 bg-white dark:bg-gray-800 w-full max-w-md shadow-xl overflow-y-auto">
        <div class="p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
            <h3 class="text-xl font-bold">Confirmation de commande</h3>
            <button id="close-order-confirm" class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300" aria-label="Fermer la confirmation">
                <i class="fas fa-times text-2xl"></i>
            </button>
        </div>
        
        <div class="p-6">
            <div class="flex flex-col items-center mb-6">
                <div class="w-20 h-20 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center text-green-600 dark:text-green-400 text-3xl mb-4">
                    <i class="fas fa-check"></i>
                </div>
                <h4 class="text-lg font-semibold text-center mb-2">Commande validée !</h4>
                <p class="text-gray-500 dark:text-gray-400 text-center">Votre commande #TS2023-456 a bien été enregistrée.</p>
            </div>
            
            <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6">
                <h5 class="font-medium mb-3">Récapitulatif</h5>
                <div class="space-y-2">
                    <div class="flex justify-between">
                        <span class="text-gray-600 dark:text-gray-300">MacBook Pro 14" M2</span>
                        <span class="font-medium">1 799€</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-gray-600 dark:text-gray-300">AirPods Pro (2x)</span>
                        <span class="font-medium">558€</span>
                    </div>
                    <div class="flex justify-between border-t border-gray-200 dark:border-gray-600 pt-2 mt-2">
                        <span class="font-medium">Total</span>
                        <span class="font-bold text-lg">2 357€</span>
                    </div>
                </div>
            </div>
            
            <div class="bg-blue-50 dark:bg-blue-900 rounded-lg p-4 mb-6">
                <h5 class="font-medium mb-2 flex items-center">
                    <i class="fas fa-truck mr-2 text-[#0298e4]"></i> Livraison
                </h5>
                <p class="text-sm">Livraison prévue le <span class="font-medium">vendredi 12 mai</span></p>
                <p class="text-sm text-gray-500 dark:text-gray-400">12 Rue de la République, 75001 Paris</p>
            </div>
            
            <div class="space-y-3">
                <a href="#" class="block bg-[#051769] text-white text-center py-2 px-4 rounded hover:bg-[#0298e4] font-medium">
                    <i class="fas fa-file-invoice mr-2"></i> Voir le détail de la commande
                </a>
                <button class="w-full border border-[#051769] text-[#051769] dark:text-[#0298e4] py-2 px-4 rounded hover:bg-blue-50 dark:hover:bg-gray-700 font-medium">
                    <i class="fas fa-home mr-2"></i> Retour à l'accueil
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Card de vérification d'email (affichée après inscription) -->
<div id="verify-card" class="auth-card bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 border-t-4 border-green-500 hidden" data-scroll="fade-in">
    <div class="text-center mb-8">
        <h2 class="text-3xl font-extrabold text-[#051769] dark:text-white mb-2">Vérification de l'email</h2>
        <p class="text-gray-600 dark:text-gray-400">
            Un email de vérification vient d'être envoyé à <span id="verify-email-display" class="font-semibold"></span>.<br>
            Veuillez cliquer sur le lien reçu ou saisir le code/token ci-dessous.
        </p>
    </div>
    <form id="verify-form" class="space-y-6">
        <div>
            <label for="verify-email" class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">Adresse email</label>
            <input type="email" id="verify-email" name="verify-email" required
                   class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:border-transparent transition"
                   placeholder="Votre email">
        </div>
        <div>
            <label for="verify-token" class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">Code/token de vérification</label>
            <input type="text" id="verify-token" name="verify-token" required
                   class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:border-transparent transition"
                   placeholder="Code reçu par email">
        </div>
        <button type="submit" class="w-full bg-gradient-to-r from-[#051769] to-[#0298e4] text-white py-3 px-4 rounded-lg font-semibold hover:from-[#0298e4] hover:to-[#3b82f6] focus:outline-none focus:ring-2 focus:ring-[#0298e4] focus:ring-offset-2 transition-all shadow-lg">
            Vérifier mon email
        </button>
        <div class="text-center text-sm text-gray-600 dark:text-gray-400 mt-2">
            <a href="#" id="back-to-login-from-verify" class="text-[#0298e4] dark:text-blue-400 font-medium hover:underline transition-colors">
                Retour à la connexion
            </a>
        </div>
    </form>
</div>

    <!-- Lien vers le fichier JavaScript externe -->
    <script src="essai.js"></script>
    
    <!-- Script spécifique à la page de login -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Toggle between login and register forms
            const loginCard = document.getElementById('login-card');
            const registerCard = document.getElementById('register-card');
            const forgotPasswordCard = document.getElementById('forgot-password-card');
            const verificationCodeCard = document.getElementById('verification-code-card');
            const newPasswordCard = document.getElementById('new-password-card');
            const successCard = document.getElementById('success-card');
            
            const switchToRegister = document.getElementById('switch-to-register');
            const switchToLogin = document.getElementById('switch-to-login');
            const forgotPasswordLink = document.getElementById('forgot-password-link');
            const backToLoginFromForgot = document.getElementById('back-to-login-from-forgot');
            const backToForgotFromVerification = document.getElementById('back-to-forgot-from-verification');
            const backToLoginFromNewPassword = document.getElementById('back-to-login-from-new-password');
            const backToLoginFromSuccess = document.getElementById('back-to-login-from-success');
            const resendCode = document.getElementById('resend-code');
            
            // Fonction pour basculer entre les cartes
            function switchCard(fromCard, toCard) {
                fromCard.classList.remove('active');
                setTimeout(() => {
                    fromCard.classList.add('hidden');
                    toCard.classList.remove('hidden');
                    setTimeout(() => toCard.classList.add('active'), 10);
                }, 300);
            }
            
            // Événements de basculement
            switchToRegister.addEventListener('click', (e) => {
                e.preventDefault();
                switchCard(loginCard, registerCard);
            });
            
            switchToLogin.addEventListener('click', (e) => {
                e.preventDefault();
                switchCard(registerCard, loginCard);
            });
            
            forgotPasswordLink.addEventListener('click', (e) => {
                e.preventDefault();
                switchCard(loginCard, forgotPasswordCard);
            });
            
            backToLoginFromForgot.addEventListener('click', (e) => {
                e.preventDefault();
                switchCard(forgotPasswordCard, loginCard);
            });
            
            backToForgotFromVerification.addEventListener('click', (e) => {
                e.preventDefault();
                switchCard(verificationCodeCard, forgotPasswordCard);
            });
            
            backToLoginFromNewPassword.addEventListener('click', (e) => {
                e.preventDefault();
                switchCard(newPasswordCard, loginCard);
            });
            
            backToLoginFromSuccess.addEventListener('click', (e) => {
                e.preventDefault();
                switchCard(successCard, loginCard);
            });
            
            // Toggle password visibility
            document.querySelectorAll('.password-toggle').forEach(toggle => {
                toggle.addEventListener('click', function() {
                    const input = this.parentElement.querySelector('input');
                    const icon = this.querySelector('i');
                    
                    if (input.type === 'password') {
                        input.type = 'text';
                        icon.classList.replace('fa-eye-slash', 'fa-eye');
                    } else {
                        input.type = 'password';
                        icon.classList.replace('fa-eye', 'fa-eye-slash');
                    }
                });
            });
            
            // Form validation and submission
            document.getElementById('login-form').addEventListener('submit', function(e) {
                e.preventDefault();
                // Add login logic here
                console.log('Login form submitted');
                // window.location.href = 'dashboard.html';
            });
            
            
            // Forgot password form submission
            document.getElementById('forgot-password-form').addEventListener('submit', function(e) {
                e.preventDefault();
                const email = document.getElementById('forgot-email').value;
                
                // Simuler l'envoi d'un email (en production, vous feriez une requête AJAX ici)
                console.log(`Code de réinitialisation envoyé à ${email}`);
                
                // Afficher l'email dans la carte de vérification
                document.getElementById('verification-email').textContent = email;
                
                // Démarrer le compte à rebours
                startCountdown();
                
                // Passer à la carte de vérification
                switchCard(forgotPasswordCard, verificationCodeCard);
            });
            
            // Verification code input handling
            const verificationDigits = document.querySelectorAll('.verification-digit');
            
            verificationDigits.forEach((digit, index) => {
                digit.addEventListener('input', function() {
                    if (this.value.length === 1) {
                        if (index < verificationDigits.length - 1) {
                            verificationDigits[index + 1].focus();
                        } else {
                            this.blur();
                        }
                    }
                });
                
                digit.addEventListener('keydown', function(e) {
                    if (e.key === 'Backspace' && this.value.length === 0 && index > 0) {
                        verificationDigits[index - 1].focus();
                    }
                });
            });
            
            // Verification code form submission
            document.getElementById('verification-code-form').addEventListener('submit', function(e) {
                e.preventDefault();
                let code = '';
                verificationDigits.forEach(digit => {
                    code += digit.value;
                });
                
                // Vérifier le code (en production, vous feriez une vérification côté serveur)
                if (code.length === 6) {
                    console.log(`Code de vérification saisi : ${code}`);
                    switchCard(verificationCodeCard, newPasswordCard);
                } else {
                    alert('Veuillez entrer un code à 6 chiffres');
                }
            });
            
            // New password form submission
            document.getElementById('new-password-form').addEventListener('submit', function(e) {
                e.preventDefault();
                const newPassword = document.getElementById('new-password').value;
                const confirmNewPassword = document.getElementById('confirm-new-password').value;
                
                if (newPassword !== confirmNewPassword) {
                    alert('Les mots de passe ne correspondent pas');
                    return;
                }
                
                // Simuler la réinitialisation du mot de passe (en production, vous feriez une requête AJAX ici)
                console.log('Mot de passe réinitialisé avec succès');
                
                // Afficher la carte de succès
                switchCard(newPasswordCard, successCard);
            });
            
            // Renvoyer le code
            resendCode.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Simuler le renvoi du code (en production, vous feriez une requête AJAX ici)
                console.log('Code renvoyé');
                
                // Réinitialiser et redémarrer le compte à rebours
                startCountdown();
                
                // Afficher un message temporaire
                const originalText = resendCode.textContent;
                resendCode.textContent = 'Code renvoyé !';
                setTimeout(() => {
                    resendCode.textContent = originalText;
                }, 2000);
            });
            
            // Fonction pour le compte à rebours
            function startCountdown() {
                let minutes = 5;
                let seconds = 0;
                const countdownElement = document.getElementById('countdown');
                
                // Réinitialiser les champs de code
                verificationDigits.forEach(digit => {
                    digit.value = '';
                });
                
                const countdownInterval = setInterval(() => {
                    if (seconds === 0) {
                        if (minutes === 0) {
                            clearInterval(countdownInterval);
                            countdownElement.textContent = 'Expiré';
                            countdownElement.style.color = '#ef4444';
                            return;
                        }
                        minutes--;
                        seconds = 59;
                    } else {
                        seconds--;
                    }
                    
                    const displayMinutes = minutes < 10 ? `0${minutes}` : minutes;
                    const displaySeconds = seconds < 10 ? `0${seconds}` : seconds;
                    countdownElement.textContent = `${displayMinutes}:${displaySeconds}`;
                }, 1000);
            }
        });
    </script>
    <!-- Ajoute ce script à la fin de login.html -->

<script type="module">

    import { registerUser, loginUser, verifyEmail, forgotPassword } from './api.js';

// Gestion du formulaire d'inscription
const registerForm = document.getElementById('register-form');
if (registerForm) {
    registerForm.addEventListener('submit', async function(e) {
        e.preventDefault();

        // Récupération et validation des champs
        const firstname = document.getElementById('reg-firstname').value.trim();
        const lastname = document.getElementById('reg-lastname').value.trim();
        const email = document.getElementById('reg-email').value.trim();
        const phone = document.getElementById('reg-phone').value.trim();
        const password = document.getElementById('reg-password').value;
        const confirmPassword = document.getElementById('reg-confirm-password').value;
        const terms = document.getElementById('terms').checked;

        if (!firstname || !lastname || !email || !phone || !password) {
            alert("Tous les champs sont obligatoires.");
            return;
        }
        if (password !== confirmPassword) {
            alert("Les mots de passe ne correspondent pas.");
            return;
        }
        if (!terms) {
            alert("Vous devez accepter les conditions d'utilisation.");
            return;
        }

        const data = { firstname, lastname, email, phone, password };

        try {
            const result = await registerUser(data);

            // Si inscription réussie (success true), affiche la carte de vérification
            if (result.success) {
                document.getElementById('register-card').classList.add('hidden');
                document.getElementById('verify-card').classList.remove('hidden');
                document.getElementById('verify-card').classList.add('active');
                document.getElementById('verify-email').value = email;
                document.getElementById('verify-email-display').textContent = email;
                alert(result.message || "Inscription réussie ! Vérifiez votre email.");
            } else if (result.error) {
                // Si l'erreur concerne l'envoi du mail mais l'utilisateur est bien créé, affiche quand même la carte de vérification
                if (result.error.includes("envoie du code de confirmation")) {
                    document.getElementById('register-card').classList.add('hidden');
                    document.getElementById('verify-card').classList.remove('hidden');
                    document.getElementById('verify-card').classList.add('active');
                    document.getElementById('verify-email').value = email;
                    document.getElementById('verify-email-display').textContent = email;
                    alert("Votre compte a été créé, mais l'email de confirmation n'a pas pu être envoyé. Veuillez saisir le code/token manuellement si vous l'avez reçu.");
                } else {
                    alert(result.error);
                }
            } else {
                alert("Une erreur inconnue est survenue.");
            }
        } catch (err) {
            alert(err.message);
        }
    });
}

// Gestion du formulaire de vérification d'email
const verifyForm = document.getElementById('verify-form');
if (verifyForm) {
    verifyForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        const email = document.getElementById('verify-email').value.trim();
        const token = document.getElementById('verify-token').value.trim();
        if (!email || !token) {
            alert("Veuillez renseigner votre email et le code de vérification.");
            return;
        }
        try {
            await verifyEmail(email, token);
            alert("Votre email a été vérifié avec succès !");
            // Affiche la carte de connexion
            document.getElementById('verify-card').classList.add('hidden');
            document.getElementById('login-card').classList.remove('hidden');
            document.getElementById('login-card').classList.add('active');
        } catch (err) {
            alert(err.message);
        }
    });
}

// Retour à la connexion depuis la carte de vérification
const backToLoginFromVerify = document.getElementById('back-to-login-from-verify');
if (backToLoginFromVerify) {
    backToLoginFromVerify.addEventListener('click', function(e) {
        e.preventDefault();
        document.getElementById('verify-card').classList.add('hidden');
        document.getElementById('login-card').classList.remove('hidden');
        document.getElementById('login-card').classList.add('active');
    });
}

// Gestion du formulaire de connexion
const loginForm = document.getElementById('login-form');
if (loginForm) {
    loginForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        const data = {
            email: document.getElementById('email').value.trim(),
            password: document.getElementById('password').value
        };
        if (!data.email || !data.password) {
            alert("Veuillez renseigner votre email et votre mot de passe.");
            return;
        }
        try {
            const result = await loginUser(data);
            alert(result.message || "Connexion réussie !");
            window.location.href = "index.html";
        } catch (err) {
            alert(err.message);
        }
    });
}



// Gestion du formulaire "mot de passe oublié"
const forgotPasswordForm = document.getElementById('forgot-password-form');
if (forgotPasswordForm) {
    forgotPasswordForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        const email = document.getElementById('forgot-email').value.trim();
        if (!email) {
            alert("Veuillez renseigner votre adresse email.");
            return;
        }
        try {
            const result = await forgotPassword(email);
            alert(result.message || "Un mail de réinitialisation a été envoyé.");
            // Afficher l'email dans la carte de vérification
            document.getElementById('verification-email').textContent = email;
            // Démarrer le compte à rebours (si tu utilises cette logique)
            if (typeof startCountdown === "function") startCountdown();
            // Passer à la carte de vérification
            const forgotPasswordCard = document.getElementById('forgot-password-card');
            const verificationCodeCard = document.getElementById('verification-code-card');
            if (forgotPasswordCard && verificationCodeCard) {
                forgotPasswordCard.classList.remove('active');
                setTimeout(() => {
                    forgotPasswordCard.classList.add('hidden');
                    verificationCodeCard.classList.remove('hidden');
                    setTimeout(() => verificationCodeCard.classList.add('active'), 10);
                }, 300);
            }
        } catch (err) {
            alert(err.message);
        }
    });
}
</script>

</body>
</html>